//*******************************************************************************
//----------------本例程仅供学习使用，未经作者允许，不得用于其他用途。-----------
//------------------------版权所有，仿冒必究！-----------------------------------
//----------------1.开发环境:Arduino IDE-----------------------------------------
//----------------2.测试使用开发板型号：Arduino Leonardo or Arduino UNO R3-------
//----------------3.单片机使用晶振：16M------------------------------------------
//----------------4.淘宝网址：http://xmdzpj.taobao.com---------------------------
//----------------5.作者：真红炎神---------------------------------------------
//*******************************************************************************/
#define LED 13
#define KEY A1

int KEY_NUM = 0;	

void setup()
{
  pinMode(LED,OUTPUT);			//定义LED脚为输出����
  pinMode(KEY,INPUT_PULLUP);		//定义KEY脚为输入�����������
}

void loop()
{
  ScanKey();		//检测是否有按键按下函数								//����ɨ����򣬵�������ʱ�򣬸��ӳ�����޸�KEY_NUM��ֵ
  if(KEY_NUM == 1)	//有按下
  {   
    digitalWrite(LED,!digitalRead(LED));//LED状态取反
  }
}

void ScanKey()	//����
{
  KEY_NUM = 0;	//��ձ���
  if(digitalRead(KEY) == LOW)	//�����
  {
    delay(20);						//�����
    if(digitalRead(KEY) == LOW)		//������
    {
      KEY_NUM = 1;				//��������
      while(digitalRead(KEY) == LOW);	//������
    }
  }
}
